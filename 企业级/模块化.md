
模块是 Node.js 应用程序的基本组成部分，

模块是 Node.js 应用程序的基本组成部分， 文件 和 模块 是一一对应的。 一个 Node.js 文件 就是一个模块。 在 Node.js 应用中，主要有以下两种定义模块的格式。

CommonJS 规范；ES6模块，在ES6中，使用新的 “import" 关键字来定义模块。

CommonJS 规范主要 分为三部分： 模块引用，模块定义，模块标识。

1. 模块引用

意为使用 require() 方法

require() 的参数 仅仅是模块名称的字符串，没有带有 路径，引用的是 main.js 所在当前目录下的 `node_modules` 下的 math 模块。如果当前目录下没有 `node_modules` 目录 或 `node_modules`目录下没有安装 该模块，便会报错。

如果要引入的模块在其他路径，就需要使用相对路径或绝对路径

2. 模块定义

module对象：在每个模块中，module 对象代表该模块自身。

export属性：module对象的一个属性，它向外提供接口。

3. 模块标识

模块标识 指的是 传递给 require()方法的参数，必须是符合小驼峰命名的字符串，或者以 "." ".." 开头的相对路径，或者绝对路径。

CommonJS 模块机制，避免了 JavaScript 编程中常见的全局污染的问题。每个模块拥有独立的空间，它们互不干扰。

## ES6模块

1. 基本的导出

可以使用 export 关键字将已发布代码部分公开给其他模块。

2. 基本的导入

import 语句有两个部分，一是需要导入的标识符，二是需要导入的标识符的来源模块。

3. 重命名的导出与导入

可以在导出模块中进行重命名。如果想用不同的名称来导出，可以使用 as 关键字来定义新的名称。

## CommonJS和ES6模块的异同点

1. CommonJS

- 对于基本数据类型，属于复制，即会被模块缓存。同时，在另一个模块可以对该模块输出的变量重新赋值。
- 对于复杂数据类型，属于浅拷贝。由于两个模块引用的对象指向同一个内层空间，因此对该模块的值做修改时 会影响另一个模块。
- 当使用 require 命令加载某个模块时，就会运行整个模块的代码。
- 当使用 require 命令加载同一个模块时，不会再执行该模块，而是取到缓存之中的值。也就是说 CommonJS 模块无论加载多少次，都只会在第一次加载时运行一次，以后再加载，就返回第一次运行的结果，除非手动清除系统缓存。
- 循环加载时，属于加载时执行。即 脚本代码 在 require 的时候，就会全部执行。一旦出现某个模块被 “循环加载” ，就只输出已经执行的部分，还未执行的部分不会输出。

2. ES6 模块

- ES6模块中的值属于动态只读引用。
- 对于只读来说，即不允许修改引入变量的值， import 的变量是只读的，不论是基本数据类型 还是 复杂数据类型。当模块遇到 import 命令时，就会生成一个只读引用。等到脚本真正执行时，再根据这个 只读引用，到被加载的那个模块中去取值。
- 对于动态来说，原始值发生变化，import 加载的值也会发生变化，不论是基本数据类型还是复杂数据类型。
- 循环加载时，ES6 模块时动态引用。只要两个模块之间存在某个引用，代码就能够执行。

创建模块 ， package.json文件是必不可少的。可以使用 npm 初始化模块，生成 package.json文件。

npm init

npm publish

## 核心模块

buffer，用于二进制数据的处理

events: 用于事件处理

fs: 用于于文件系统交互

http: 用于提供HTTP 服务器和客户端

net :提供异步网络API

path: 用于处理文件和目录的路径

timers: 提供定时器功能

tls: 提供了 基于OpenSSL 构建的传输层安全性（TLS）和安全套接字层（SSL）协议的实现。

dgram: 提供了UDP 数据报套接字的实现。


